{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"React\"","webpack:///external \"antd\"","webpack:///./src/hooks/index.ts","webpack:///./src/api.ts","webpack:///./src/routes.ts","webpack:///external \"moment\"","webpack:///./src/hocs.tsx","webpack:///./src/hooks/utils.ts","webpack:///./src/constants.ts","webpack:///./src/Pages/Table/Filter.tsx","webpack:///./src/index.tsx","webpack:///external \"ReactDOM\"","webpack:///./src/Skeleton/App.tsx","webpack:///./src/Pages/Login.tsx","webpack:///./src/Pages/Login.modules.scss","webpack:///./src/Skeleton/Header.tsx","webpack:///./src/Skeleton/Header.modules.scss","webpack:///./src/Skeleton/Content.tsx","webpack:///./src/Pages/Chart/index.tsx","webpack:///./src/Pages/Table/index.tsx","webpack:///./src/Pages/Table/Create.tsx","webpack:///./src/Pages/Table/Create.modules.scss","webpack:///./src/Pages/Table/SingleCreate.tsx","webpack:///./src/Pages/Table/EditableTable.tsx","webpack:///./src/Pages/Table/Filter.modules.scss","webpack:///./src/Skeleton/App.scss"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","2","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","React","antd","createStore","createPesistStore","useDescriptions","useApp","logging","useAuth","defaultState","requesting","status","useAPI","req","state","setState","useState","arg","resp","error","console","log","message","toString","endpoint","body","method","fetch","ok","Error","updateDescription","id","JSON","stringify","rest","listDescriptions","json","createDescriptions","descriptions","logout","login","email","RouteConfigs","table","path","chart","routes","values","moment","private_","Cmp","props","auth","protected_","admin","initState","listeners","Set","curr","local","useEffect","add","delete","localStorage","getItem","parse","hook","setItem","JOB_DESCRIPTIONS","RangePicker","DatePicker","Option","Select","defaults","undefined","description","duration","useConditions","Filter","form","Form","useForm","conditions","setConditions","labelCol","span","wrapperCol","Row","gutter","Col","Item","label","rules","required","Input","placeholder","allowClear","map","desc","style","width","className","styles","actions","Button","onClick","validateFields","then","filter","diff","asMonths","catch","marginLeft","resetFields","ReactDOM","render","document","querySelector","SubMenu","Menu","Sider","Layout","App","location","useLocation","app","history","useHistory","LoginPage","background","height","selectedKeys","pathname","title","route","setApp","setAuth","reqState","request","api","container","layout","size","disabled","HeaderHeight","Header","header","UnorderedListOutlined","marginRight","Popover","placement","popover","src","content","LogoutOutlined","trigger","Content","padding","backgroundColor","Switch","Route","TablePage","ChartPage","setDescriptions","months","count","month","PageHeader","breadcrumb","breadcrumbName","Chart","forceFit","Axis","Legend","position","Tooltip","enterable","Geom","type","Create","EditableTable","Dragger","Upload","defaultStatus","visible","massive","singleForm","files","setFiles","setStatus","onCancel","button","Modal","footer","loading","descs","reduce","accu","file","reader","FileReader","Promise","resolve","reject","onload","event","target","onerror","readAsText","newly","uuid","v4","modal","defaultSelectedKeys","contents","fileList","multiple","beforeUpload","onRemove","idx","indexOf","InboxOutlined","SingleCreate","EditableContext","createContext","EditableRow","index","component","Provider","EditableCell","editable","children","dataIndex","record","handleSave","editing","setEditing","inputRef","useRef","useContext","current","focus","toggleEdit","setFieldsValue","save","childNode","ref","onPressEnter","onBlur","restProps","updateReqState","updateReq","equals","find","components","row","cell","columnsSource","text","start","end","Popconfirm","okText","onConfirm","col","onCell","Table","rowKey","dataSource","startsWith","dd","df","asMilliseconds","columns","pagination","defaultPageSize","pageSize","showQuickJumper","showSizeChanger"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAKlC,IAFGe,GAAqBA,EAAoBhB,GAEtCO,EAASC,QACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrBiB,EAAG,GAGAZ,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU8B,QAGnC,IAAIC,EAASH,EAAiB5B,GAAY,CACzCK,EAAGL,EACHgC,GAAG,EACHF,QAAS,IAUV,OANAhB,EAAQd,GAAUW,KAAKoB,EAAOD,QAASC,EAAQA,EAAOD,QAASJ,GAG/DK,EAAOC,GAAI,EAGJD,EAAOD,QAKfJ,EAAoBO,EAAInB,EAGxBY,EAAoBQ,EAAIN,EAGxBF,EAAoBS,EAAI,SAASL,EAASM,EAAMC,GAC3CX,EAAoBY,EAAER,EAASM,IAClC5B,OAAO+B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEX,EAAoBgB,EAAI,SAASZ,GACX,oBAAXa,QAA0BA,OAAOC,aAC1CpC,OAAO+B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DrC,OAAO+B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKzC,OAAO0C,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBzC,OAAO+B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBS,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAL,EAAoBS,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRX,EAAoBY,EAAI,SAASgB,EAAQC,GAAY,OAAO/C,OAAOC,UAAUC,eAAeC,KAAK2C,EAAQC,IAGzG7B,EAAoB8B,EAAI,GAExB,IAAIC,EAAaC,OAAqB,aAAIA,OAAqB,cAAK,GAChEC,EAAmBF,EAAW5C,KAAKuC,KAAKK,GAC5CA,EAAW5C,KAAOf,EAClB2D,EAAaA,EAAWG,QACxB,IAAI,IAAIvD,EAAI,EAAGA,EAAIoD,EAAWlD,OAAQF,IAAKP,EAAqB2D,EAAWpD,IAC3E,IAAIU,EAAsB4C,EAI1B1C,EAAgBJ,KAAK,CAAC,GAAG,IAElBM,I,gBCvJTY,EAAOD,QAAU+B,O,cCAjB9B,EAAOD,QAAUgC,M,gZCAjB,cAEA,YAAS,EAAAC,YAAA,EAAAA,YAAa,EAAAC,kBAAA,EAAAA,kBACtB,aAEA,OAEa,EAAAC,gBAAkB,EAAAF,YAAY,IAM9B,EAAAG,OAAS,EAAAF,kBAAkB,CAAEG,SAAS,GAAS,OAE/C,EAAAC,QAAU,EAAAJ,kBAAkB,GAAY,QAWrD,MAAMK,EAAe,CACjBC,YAAY,EACZC,OAAQ,QAGC,EAAAC,OAAgBC,IACzB,MAAOC,EAAOC,GAAY,EAAAC,SAASP,GAgBnC,MAAO,CAACK,EAdeG,GAAW,OAAD,6BAC7BF,EAAS,OAAD,wBAAMN,GAAY,CAAEC,YAAY,EAAMC,OAAQ,gBACtD,IACI,MAAMO,QAAaL,EAAII,GAEvB,OADAF,EAAS,OAAD,wBAAMN,GAAY,CAAEC,YAAY,EAAOQ,OAAMP,OAAQ,aACtDO,EACT,MAAOC,GAIL,MAHAC,QAAQC,IAAI,SACZ,EAAAC,QAAQH,MAAM,kBAAkBA,EAAMI,YACtCR,EAAS,OAAD,wBAAMN,GAAY,CAAEC,YAAY,EAAOS,QAAOR,OAAQ,YACxDQ,S,+uBC1ClB,MAgBMN,EAAM,CAAOW,GAAoBC,OAAMC,YAAgD,OAAD,6BACxFN,QAAQC,IAAIG,EAAU,CAAEC,OAAMC,WAC9B,MAAMR,QAAaS,MAlBP,wBAkBuBH,EAAU,CAAErC,KAAM,OAAQsC,OAAMC,WACnE,IAAKR,EAAKU,GACN,MAAM,IAAIC,MAAM,eAEpB,OAAOX,KAGE,EAAAY,kBAA2B,GAAoC,OAAD,6B,IAAnC,GAAEC,GAAE,EAAE,cAC1CX,QAAQC,IAAIU,SACOlB,EAAI,sBAAuB,CAAEY,KAAMO,KAAKC,UAAU,OAAD,QAAGF,MAAOG,IAASR,OAAQ,WAItF,EAAAS,iBAAmB,MAAsC,OAAD,6BACjE,MAAMjB,QAAaL,EAAI,qBAAsB,CAAEa,OAAQ,QAEvD,aADoBR,EAAKkB,UAIhB,EAAAC,mBAAqB,EAASC,kBAAmE,OAAD,mCACtFzB,EAAI,kBAAmB,CAAEY,KAAMO,KAAKC,UAAUK,GAAeZ,OAAQ,YAI/E,EAAAa,OAAS,EAASR,QAAwC,OAAD,mCAC/ClB,EAAI,UAAW,CAAEY,KAAMO,KAAKC,UAAU,CAAEF,OAAOL,OAAQ,WAIjE,EAAAc,MAAQ,EAASC,WAA8C,OAAD,6BACvE,MAAMvB,QAAaL,EAAI,SAAU,CAAEY,KAAMO,KAAKC,UAAU,CAAEQ,UAAUf,OAAQ,QAE5E,aADoBR,EAAKkB,W,+EC9ChB,EAAAM,aAA+C,CACxDC,MAAO,CACHC,KAAM,SACNpE,KAAM,cAEVqE,MAAO,CACHD,KAAM,SACNpE,KAAM,eAID,EAAAsE,OAASlG,OAAOmG,OAAO,EAAAL,e,iBChBpCvE,EAAOD,QAAU8E,Q,8ECAjB,aACA,OAIa,EAAAC,SAAgBC,GAAOC,IAChC,MAAOC,GAAQ,EAAA5C,UACf,OAAI4C,GAAQA,EAAKrB,GAAW,gBAACmB,EAAG,iBAAKC,IAC9B,MAGE,EAAAE,WAAkBH,GAAOC,IAClC,MAAOC,GAAQ,EAAA5C,UACf,OAAI4C,GAAQA,EAAKE,MAAc,gBAACJ,EAAG,iBAAKC,IACjC,O,kFCdX,aAEa,EAAAhD,YAAkBoD,IAC3B,MAAMC,EAAqC,IAAIC,IAC/C,IAAIC,EAAOH,EAEX,MAAO,KACH,MAAOzC,EAAO6C,GAAS,EAAA3C,SAAS0C,GAChC,EAAAE,UAAU,KACNJ,EAAUK,IAAIF,GACP,KACHH,EAAUM,OAAOH,KAEtB,IAOH,MAAO,CAAC7C,EALUA,IACd4C,EAAO5C,EACP,IAAK,MAAMC,KAAYyC,EAAWzC,EAASD,OAO1C,EAAAV,kBAAoB,CAAIK,EAAiBlB,KAClD,MAAMgE,EAAaQ,aAAaC,QAAQzE,IAAQyC,KAAKiC,MAAMF,aAAaC,QAAQzE,KAAUkB,EACpFyD,EAAO,EAAA/D,YAAYoD,GACzB,MAAO,KACH,MAAOzC,EAAOC,GAAYmD,IAK1B,MAAO,CAACpD,EAJiBA,IACrBiD,aAAaI,QAAQ5E,EAAKyC,KAAKC,UAAUnB,IACzCC,EAASD,Q,+EC/BR,EAAAsD,iBAAmB,CAAC,gBAAiB,cAAe,kBAAmB,kBAAmB,O,8ECAvG,aACA,QAEA,OACA,QACA,OACA,SAEM,YAAEC,GAAgB,EAAAC,YAClB,OAAEC,GAAW,EAAAC,OAsBN,EAAAC,SAAW,CACpBjG,UAAMkG,EACNC,iBAAaD,EACbE,SAAU,MAACF,OAAWA,IAGb,EAAAG,cAAgB,EAAA1E,YAAY,EAAAsE,UAE5B,EAAAK,OAAS,KAClB,MAAOC,GAAQ,EAAAC,KAAKC,WACbC,EAAYC,GAAiB,EAAAN,gBA0BpC,OACI,gBAAC,EAAAG,KAAI,iBANc,CACnBI,SAAU,CAAEC,KAAM,GAClBC,WAAY,CAAED,KAAM,KAII,CAAEN,KAAMA,IAC5B,gBAAC,EAAAQ,IAAG,CAACC,OAAQ,IACT,gBAAC,EAAAC,IAAG,CAACJ,KAAM,IACP,gBAAC,EAAAL,KAAKU,KAAI,CAAClH,KAAK,OAAOmH,MAAM,OAAOC,MAAO,CAAC,CAAEC,UAAU,KACpD,gBAAC,EAAAC,MAAK,CAACC,YAAY,kBAG3B,gBAAC,EAAAN,IAAG,CAACJ,KAAM,IACP,gBAAC,EAAAL,KAAKU,KAAI,CAAClH,KAAK,cAAcmH,MAAM,mBAChC,gBAAC,EAAAnB,OAAM,CAACuB,YAAY,SAASC,YAAU,GAClC,EAAA5B,iBAAiB6B,IAAIC,GAClB,gBAAC3B,EAAM,CAAChF,IAAK2G,EAAMjH,MAAOiH,GACrBA,QAOzB,gBAAC,EAAAX,IAAG,CAACC,OAAQ,IACT,gBAAC,EAAAC,IAAG,CAACJ,KAAM,IACP,gBAAC,EAAAL,KAAKU,KAAI,CAAClH,KAAK,WAAWmH,MAAM,cAC7B,gBAACtB,EAAW,CAAC8B,MAAO,CAAEC,MAAO,YAGrC,gBAAC,EAAAX,IAAG,CAACJ,KAAM,IACP,uBAAKgB,UAAWC,EAAOC,SACnB,gBAAC,EAAAC,OAAM,CAACC,QArDb,IACX1B,EACK2B,iBACAC,KAAM5D,IACH,GAAIA,EAAO6B,UAAkE,GAAtD7B,EAAO6B,SAASgC,OAAOrI,GAAUmG,MAALnG,GAAgB5B,OAAa,CAE5E,GADiBqG,EAAO4B,SAAS7B,EAAO6B,SAAS,GAAGiC,KAAK9D,EAAO6B,SAAS,KAC5DkC,WAAa,GAEtB,YADA,EAAAxF,QAAQH,MAAM,2CAItBgE,EAAcpC,KAEjBgE,MAAM3F,QAAQD,QAwCoB,UACvB,gBAAC,EAAAqF,OAAM,CAACL,MAAO,CAAEa,WAAY,GAAKP,QAvCxC,KACV1B,EAAKkC,cACL9B,EAAc,EAAAV,YAqCkD,e,sFChGxE,aACA,QACA,QACA,QAEAyC,EAASC,OACL,gBAAC,aAAM,KACH,gBAAC,UAAG,OAERC,SAASC,cAAc,U,cCT3BlJ,EAAOD,QAAUgJ,U,kFCAjB,aACA,OACA,QACA,OACA,QACA,OACA,QACA,QACA,MAEA,MAAM,QAAEI,GAAY,EAAAC,MACd,MAAEC,GAAU,EAAAC,OAIL,EAAAC,IAAM,KACf,MAAMC,EAAW,EAAAC,eACVC,GAAO,EAAAvH,SACRwH,EAAU,EAAAC,aAEhB,OAAOF,EAAItH,QACP,gBAAC,EAAAyH,UAAS,MAEV,gBAAC,EAAAP,OAAM,KACH,gBAAC,UAAM,MACP,gBAAC,EAAAA,OAAM,CAACtB,MAAO,CAAE8B,WAAY,UACzB,gBAACT,EAAK,CAACpB,MAbJ,IAauBD,MAAO,CAAE+B,OAAQ,SACvC,gBAAC,EAAAX,KAAI,CACDpB,MAAO,CAAEC,MAfd,IAeiC8B,OAAQ,QAGpCC,aAAc,CAACR,EAASS,UACxBjJ,KAAK,UAEL,gBAACmI,EAAO,CAAC/H,IAAI,IAAI8I,MAAM,qBAClB,EAAAvF,OAAOmD,IAAIqC,GACR,gBAAC,EAAAf,KAAK7B,KAAI,CAACe,QAAS,IAAMqB,EAAQ7K,KAAKqL,EAAM1F,MAAOrD,IAAK+I,EAAM1F,MAC1D0F,EAAM9J,UAM3B,gBAAC,UAAO,SAMxB,UAAe,EAAAkJ,K,8YCjDf,aACA,QACA,OACA,OACA,OACA,SAEM,KAAEhC,GAAS,EAAAV,MACX,OAAET,GAAW,EAAAC,OAEN,EAAAwD,UAAY,KACrB,MAAOjD,GAAQ,EAAAE,WACR4C,EAAKU,GAAU,EAAAjI,UACf8C,EAAMoF,GAAW,EAAAhI,WACjBiI,EAAUC,GAAW,EAAA9H,OAAO+H,EAAInG,OAmBvC,OACI,uBAAK6D,UAAWC,EAAOsC,WACnB,gBAAC,EAAA5D,KAAI,eAACD,KAAMA,GAPG,CACnBK,SAAU,CAAEC,KAAM,GAClBC,WAAY,CAAED,KAAM,KAKoB,CAAEwD,OAAO,aAAaC,KAAK,UAC3D,gBAACpD,EAAI,CAAClH,KAAK,QAAQmH,MAAM,QAAQC,MAAO,CAAC,CAAEC,UAAU,EAAMvE,QAAS,2BAChE,gBAAC,EAAAwE,MAAK,CAACC,YAAY,kBAG3B,uBAAKM,UAAWC,EAAOC,SACnB,gBAAC,EAAAC,OAAM,CAACuC,SAA6B,cAAnBN,EAAS9H,OAAwB8F,QAzBjD,IAAY,OAAD,6BACrB,IACI,MAAM,MAAEhE,SAAgBsC,EAAK2B,iBAEvBxF,QAAawH,EAAQ,CAAEjG,UAC7BrB,QAAQC,IAAIH,GACZsH,EAAQ,OAAD,wBAAMpF,GAASlC,IACtBqH,EAAO,OAAD,wBAAMV,GAAG,CAAEtH,SAAS,KAC5B,MAAOY,SAiBgE,SAGjE,gBAAC,EAAAqF,OAAM,CAACC,QAlBL,IAAM8B,EAAO,OAAD,wBAAMV,GAAG,CAAEtH,SAAS,MAkBZ,c,oBC3CvCpC,EAAOD,QAAU,CAAC,UAAY,0BAA0B,QAAU,4B,8YCDlE,cACA,OACA,OACA,OACA,OACA,QAEAkD,QAAQC,IAAIiF,GAEC,EAAA0C,aAAe,GAoD5B,UAlDe,KACX,MAAO5F,EAAMoF,GAAW,EAAAhI,WACjBqH,EAAKU,GAAU,EAAAjI,WACf,OAAEK,GAAUE,GAAO,EAAAD,OAAO+H,EAAIpG,QAQrC,OACI,gBAAC,EAAAkF,OAAOwB,OAAM,CAAC9C,MAAO,CAAE+B,OAAQ,EAAAc,cAAgB3C,UAAWC,EAAO4C,QAC9D,yBACI,gBAAC,EAAAC,sBAAqB,CAAChD,MAAO,CAAEiD,YAAa,S,qBAGhDhG,GAAQA,EAAKrB,GACV,gBAAC,EAAAsH,QAAO,CACJC,UAAU,cACVjB,MACI,uBAAKhC,UAAWC,EAAOiD,SACnB,uBAAKC,IAAI,wEACT,2BACI,yBAAIpG,EAAK5E,MACT,yBAAI4E,EAAKX,SAIrBgH,QACc,cAAV9I,EACI,gCAEA,qBAAG8F,QA7Bb,IAAY,OAAD,6BACrB,UACU5F,EAAI,CAAEkB,GAAIqB,EAAKrB,KACrByG,EAAQ,MACV,MAAOrH,SA0Be,gBAAC,EAAAuI,eAAc,CAACvD,MAAO,CAAEiD,YAAa,S,UAKlDO,QAAQ,SAER,uBAAKxD,MAAO,CAAE+B,OAAQ,IAAMsB,IAAI,yEAGpC,qBAAG/C,QAAS,IAAM8B,EAAO,OAAD,wBAAMV,GAAG,CAAEtH,SAAS,MAAO,Y,kBCtDnEpC,EAAOD,QAAU,CAAC,OAAS,wBAAwB,QAAU,0B,8ECD7D,aACA,OACA,QACA,QACA,QACA,OAkBA,UAhBgB,IAER,gBAAC,EAAAuJ,OAAOmC,QAAO,CAACzD,MAAO,CAAE0D,QAAS,GAAIC,gBAAiB,UACnD,gBAAC,EAAAC,OAAM,KACH,gBAAC,EAAAC,MAAK,CAACpH,KAAM,EAAAF,aAAaC,MAAMC,MAC5B,gBAAC,EAAAqH,UAAS,OAEd,gBAAC,EAAAD,MAAK,CAACpH,KAAM,EAAAF,aAAaG,MAAMD,MAC5B,gBAAC,EAAAsH,UAAS,U,8ECf9B,aACA,QACA,QACA,OACA,OACA,QACA,OACA,OAEa,EAAAA,UAAY,EAAAjH,SAAS,KAC9B,MAAOX,EAAc6H,GAAmB,EAAA9J,oBACjC,OAAEM,EAAM,KAAEO,GAAQL,GAAO,EAAAD,OAAO+H,EAAIxG,kBAE3ClC,EAAM2D,UAAU,KACZ/C,EAAI,KACL,IACHZ,EAAM2D,UAAU,KACZuG,EAAgBjJ,GAAQ,KACzB,CAACA,IAEJ,MAAMkJ,EAAS,GACf,IAAK,IAAI3N,EAAI,EAAGA,GAAK,EAAGA,GAAK,EAAG2N,EAAOnN,KAAK,CAAEoN,MAAO,EAAG7L,KAAM,IAAI/B,IAClE,IAAK,IAAIA,EAAI,GAAIA,GAAK,GAAIA,GAAK,EAAG2N,EAAOnN,KAAK,CAAEoN,MAAO,EAAG7L,KAAM/B,EAAE8E,aAClE,IAAK,MAAMoD,KAAerC,EAAc,CAEpC8H,EADUpH,EAAO2B,EAAYC,SAAS,IAAI0F,QAAU,GAC1CD,OAAS,EAGvB,OACI,uBAAKlE,MAAO,CAAEC,MAAO,SACjB,gBAAC,EAAAmE,WAAU,CACPlC,MAAM,aACNmC,WAAY,CACR1H,OAAQ,CACJ,CAAE2H,eAAgB,oBAAqB7H,KAAM,KAC7C,CACI6H,eAAgB,aAChB7H,KAAM,EAAAF,aAAaG,MAAMD,UAKzC,gBAAC,EAAA8H,MAAK,CAACxC,OAAQ,IAAK/L,KAAMiO,EAAQO,UAAQ,GACtC,gBAAC,EAAAC,KAAI,CAACpM,KAAK,SACX,gBAAC,EAAAoM,KAAI,CAACpM,KAAK,UACX,gBAAC,EAAAqM,OAAM,CAACC,SAAS,aACjB,gBAAC,EAAAC,QAAO,CAACC,WAAS,IAClB,gBAAC,EAAAC,KAAI,CAACC,KAAK,WAAWJ,SAAS,oB,+EC/C/C,aACA,OACA,OACA,QACA,QACA,QACA,QAEa,EAAAb,UAAY,EAAAhH,SAAS,IAE1B,2BACI,gBAAC,EAAAsH,WAAU,CACPlC,MAAM,aACNmC,WAAY,CACR1H,OAAQ,CACJ,CAAE2H,eAAgB,oBAAqB7H,KAAM,KAC7C,CACI6H,eAAgB,aAChB7H,KAAM,EAAAF,aAAaC,MAAMC,UAKzC,gBAAC,EAAAkC,OAAM,MACP,gBAAC,EAAAqG,OAAM,MACP,gBAAC,EAAAC,cAAa,S,8YCzB1B,cACA,OACA,OACA,OACA,QACA,OACA,QAEA,OACA,QACA,SAEM,QAAEC,GAAY,EAAAC,OAGdC,EAAgB,CAAEC,SAAS,EAAOC,SAAS,GAEpC,EAAAN,OAAS,EAAA9H,WAAW,KAC7B,MAAOqI,GAAc,EAAA1G,KAAKC,WACnB0G,EAAOC,GAAY,EAAA5K,SAAS,KAC5BL,EAAQkL,GAAa,EAAA7K,SAASuK,IAC/B,QAAEC,EAAO,QAAEC,GAAY9K,GACtBG,EAAO4H,GAAW,EAAA9H,OAAO+H,EAAItG,qBAE7BC,EAAc6H,GAAmB,EAAA9J,kBAElCyL,EAAW,KACbF,EAAS,IACTF,EAAWzE,cACX4E,EAAUN,IAiCd,OACI,gCACI,uBAAKlF,UAAWC,EAAOyF,QACnB,gBAAC,EAAAvF,OAAM,CAAC0E,KAAK,UAAUzE,QAAS,IAAMoF,EAAU,OAAD,wBAAMlL,GAAM,CAAE6K,SAAS,MAAO,WAIjF,gBAAC,EAAAQ,MAAK,CACF5F,MAAO,IACPoF,QAASA,EACTnD,MAAM,gBACN4D,OAAQ,CACJ,gBAAC,EAAAzF,OAAM,CAACjH,IAAI,SAASkH,QAASqF,GAAQ,UAGtC,gBAAC,EAAAtF,OAAM,CAACjH,IAAI,SAAS2L,KAAK,UAAUgB,QAAyB,cAAhBpL,EAAMH,OAAwB8F,QA9C9E,IAAY,OAAD,6BACpB,IACI,GAAIgF,EAAS,CACTrK,QAAQC,IAAIsK,GACZ,MAAMQ,QAAcR,EAAMS,OAAO,CAAOC,EAAMC,IAAS,OAAD,6BAClD,MAAMH,QAAcE,EACdE,EAAS,IAAIC,WACbpK,QAAa,IAAIqK,QAAQ,CAACC,EAASC,KACrCJ,EAAOK,OAASC,GAASH,EAAQG,EAAMC,OAAOtP,QAC9C+O,EAAOQ,QAAUJ,EACjBJ,EAAOS,WAAWV,KAGtB,OADAlL,QAAQC,IAAIe,EAAMJ,KAAKiC,MAAM7B,IACtB,IAAI+J,KAAUnK,KAAKiC,MAAM7B,OACjCqK,QAAQC,QAAQ,KACbO,EAAQ,IAAId,KAAU7J,SACtBoG,EAAQ,CAAEpG,aAAc2K,IAC9B9C,EAAgB,IAAIgC,KAAU7J,IAC9BwJ,QACG,CACH,MAAM/I,QAAe2I,EAAWhF,iBAC1B/B,EAAc,+BAAK5B,GAAM,CAAEhB,GAAImL,EAAKC,aACpCzE,EAAQ,CAAEpG,aAAc,CAACqC,KAC/BwF,EAAgB,CAACxF,KAAgBrC,IACjCwJ,KAEN,MAAO3K,GACL,EAAAG,QAAQH,MAAMA,EAAMI,iBAmB4E,YAK5F,uBAAK8E,UAAWC,EAAO8G,OACnB,gBAAC,EAAA7F,KAAI,CAACpB,MAAO,CAAEC,MArEhB,KAqEqCiH,oBAAqB,CAAC,KAAMlO,KAAK,UACjE,gBAAC,EAAAoI,KAAK7B,KAAI,CAACnG,IAAI,IAAIkH,QAAS,IAAMoF,EAAU,OAAD,wBAAMlL,GAAM,CAAE8K,SAAS,MAAQ,iBAG1E,gBAAC,EAAAlE,KAAK7B,KAAI,CAACnG,IAAI,IAAIkH,QAAS,IAAMoF,EAAU,OAAD,wBAAMlL,GAAM,CAAE8K,SAAS,MAAO,gBAI7E,uBAAKpF,UAAWC,EAAOgH,UAClB7B,EACG,2BAEI,gBAACJ,EAAO,CACJkC,SAAU5B,EACV6B,UAAU,EACVC,aAAcnB,IAEVV,EAAS,IAAID,EAAOW,KACb,GAEXoB,SAAUpB,IACN,MAAMqB,EAAMhC,EAAMiC,QAAQtB,GAC1BV,EAAS,IAAID,EAAM3L,MAAM,EAAG2N,MAAShC,EAAM3L,MAAM2N,EAAM,OAG3D,yBACI,gBAAC,EAAAE,cAAa,OAElB,wEAIR,gBAAC,EAAAC,aAAY,CAAC/I,KAAM2G,W,gBClHhDvN,EAAOD,QAAU,CAAC,OAAS,0BAA0B,MAAQ,0BAA0B,SAAW,4B,8ECDlG,aAEA,OACA,SAEM,KAAEwH,GAAS,EAAAV,MAEX,YAAEX,GAAgB,EAAAC,WAMX,EAAAwJ,aAAe,EAAG/I,UAOvB,gBAAC,EAAAC,KAAI,eAACD,KAAMA,EAAMoB,MAAO,CAAEC,MAAO,SANf,CACnBhB,SAAU,CAAEC,KAAM,GAClBC,WAAY,CAAED,KAAM,KAI0C,CAAEwD,OAAO,aAAaC,KAAK,UACrF,gBAACpD,EAAI,CAAClH,KAAK,OAAOmH,MAAM,OAAOC,MAAO,CAAC,CAAEC,UAAU,EAAMvE,QAAS,2BAC9D,gBAAC,EAAAwE,MAAK,CAACC,YAAY,iBAEvB,gBAACL,EAAI,CAAClH,KAAK,cAAcmH,MAAM,kBAAkBC,MAAO,CAAC,CAAEC,UAAU,EAAMvE,QAAS,8BAChF,gBAAC,EAAAkD,OAAM,CAACuB,YAAY,UACf,EAAA3B,iBAAiB6B,IAAKtB,GACnB,gBAAC,EAAAH,OAAOD,OAAM,CAACtF,MAAO0F,EAAapF,IAAKoF,GACnCA,MAKjB,gBAACe,EAAI,CAAClH,KAAK,WAAWmH,MAAM,aAAaC,MAAO,CAAC,CAAEC,UAAU,EAAMvE,QAAS,2BACxE,gBAAC+C,EAAW,CAAC8B,MAAO,CAAEC,MAAO,a,6uBClC7C,aACA,QACA,OACA,OACA,OAEA,OACA,QACA,QAEM2H,EAAkB9N,EAAM+N,cAAc,MAEtCC,EAAe,I,IAAA,MAAEC,GAAK,EAAE,iBAC1B,MAAOnJ,GAAQ,EAAAC,KAAKC,UACpB,OACI,gBAAC,EAAAD,KAAI,CAACD,KAAMA,EAAMoJ,WAAW,GACzB,gBAACJ,EAAgBK,SAAQ,CAACnP,MAAO8F,GAC7B,sCAAQ5B,OAMlBkL,EAAgB,I,IAAA,MAAEhG,EAAK,SAAEiG,EAAQ,SAAEC,EAAQ,UAAEC,EAAS,OAAEC,EAAM,WAAEC,GAAU,EAAE,yEAC9E,MAAOtL,GAAQ,EAAA5C,WACRmO,EAASC,GAAc,EAAA5N,UAAS,GACjC6N,EAAW,EAAAC,OAAO,MAClB/J,EAAO,EAAAgK,WAAWhB,GACxB,EAAAnK,UAAU,KACF+K,GAASE,EAASG,QAAQC,SAC/B,CAACN,IAEJ,MAAMO,EAAa,KACV9L,EAAKE,QACVsL,GAAYD,GACZ5J,EAAKoK,eAAe,CAChB,CAACX,GAAYC,EAAOD,OAItBY,EAAO,IAAY,OAAD,6BACpB,IACI,MAAMrM,QAAegC,EAAK2B,iBAC1BwI,IACAR,EAAW,OAAD,wBAAMD,GAAW1L,IAC7B,MAAO5B,GACLC,QAAQC,IAAI,eAAgBF,OAIpC,IAAIkO,EAAYd,EAoBhB,OAlBID,IACAe,EAAYV,EACR,gBAAC,EAAA3J,KAAKU,KAAI,CACNlH,KAAMgQ,EACN5I,MAAO,CACH,CACIC,UAAU,EACVvE,QAAY+G,EAAH,mBAIjB,gBAAC,EAAAvC,MAAK,CAACwJ,IAAKT,EAAUU,aAAcH,EAAMI,OAAQJ,KAGtD,uBAAK3I,QAASyI,GAAaX,IAI5B,sCAAQkB,GAAYJ,IAGlB,EAAAjE,cAAgB,KACzB,MAAOhI,GAAQ,EAAA5C,WACR8B,EAAc6H,GAAmB,EAAA9J,mBACjCqP,EAAgBC,GAAa,EAAA/O,OAAO+H,EAAI7G,qBACxC,OAAEnB,EAAM,KAAEO,GAAQL,GAAO,EAAAD,OAAO+H,EAAIxG,kBAC3ClC,EAAM2D,UAAU,KACZ/C,EAAI,KACL,IACHZ,EAAM2D,UAAU,KACZuG,EAAgBjJ,GAAQ,KACzB,CAACA,IACJ,MAAOgE,GAAc,EAAAL,gBAqCf6J,EAAoBD,GAAwB,OAAD,6BAK7C,IAJkB,EAAAmB,OACdnB,EACAnM,EAAauN,KAAK,EAAG9N,QAASA,GAAM0M,EAAO1M,KAG3C,IACIX,QAAQC,IAAIoN,SACNkB,EAAUlB,GAChBtE,EAAgB7H,EAAa2D,IAAIC,GAASA,EAAKnE,IAAM0M,EAAO1M,GAAK0M,EAASvI,IAC5E,MAAO/E,QAIX2O,EAAa,CACfrO,KAAM,CACFsO,IAAK9B,EACL+B,KAAM3B,IAGR4B,EAvDU,CACZ,CACI5H,MAAO,OACPmG,UAAW,OACXpI,MAAO,MACPkI,UAAU,GAEd,CACIjG,MAAO,kBACPmG,UAAW,eAEf,CACInG,MAAO,WACPmG,UAAW,WACXrH,OAAQ,CAAC+I,EAAczB,KACnB,MAAO0B,EAAOC,GAAO3B,EAAO7J,SAASqB,IAAI/G,GAAK8D,EAAO9D,IAErD,OADiB8D,EAAO4B,SAASwL,EAAIvJ,KAAKsJ,IAC1B/F,SAAW,cAGnC,CACI/B,MAAO,SACPmG,UAAW,SACXrH,OAAQ,CAAC+I,EAAczB,IACnB,gBAAC,EAAA4B,WAAU,CACPhI,MAAM,0BACNiI,OAAO,SACPC,UAAW,IAAMpG,EAAgB7H,EAAasE,OAAOV,GAAQA,EAAKnE,IAAM0M,EAAO1M,MAE9EqB,EAAKE,OAAS,sCA0BD2C,IAAIuK,GACzBA,EAAIlC,SAIF,OAAP,wBACOkC,GAAG,CACNC,OAAShC,IAAwB,CAC7BA,SACAH,SAAUkC,EAAIlC,SACdE,UAAWgC,EAAIhC,UACfnG,MAAOmI,EAAInI,MACXqG,WAAYA,MAVT8B,GAcf,OACI,2BACI,gBAAC,EAAAE,MAAK,CACFC,OAAO,KACPzE,QAAmB,cAAVvL,EACTmP,WAAYA,EACZc,WAAYtO,EAAasE,OAAOV,IAC5B,GAAIhB,EAAW1G,OAAS0H,EAAK1H,KAAKqS,WAAW3L,EAAW1G,MACpD,OAAO,EAEX,GAAI0G,EAAWP,aAAeuB,EAAKvB,aAAeO,EAAWP,YACzD,OAAO,EAEX,GAAIO,EAAWN,UAAsE,GAA1DM,EAAWN,SAASgC,OAAOrI,GAAUmG,MAALnG,GAAgB5B,OAAa,CACpF,MAAMmU,EAAK9N,EAAO4B,SAAS5B,EAAOkD,EAAKtB,SAAS,IAAIiC,KAAK7D,EAAOkD,EAAKtB,SAAS,MACxEmM,EAAK/N,EAAO4B,SAASM,EAAWN,SAAS,GAAGiC,KAAK3B,EAAWN,SAAS,KAC3E,GAAIkM,EAAGE,iBAAmBD,EAAGC,iBAAkB,OAAO,EAE1D,OAAO,IAEXC,QAAShB,EACTiB,WAAY,CACRC,gBAAiB,EACjBC,SAAU,EACVC,iBAAiB,EACjBC,iBAAiB,Q,gBCrLrCnT,EAAOD,QAAU,CAAC,QAAU,4B,gBCA5BC,EAAOD,QAAU,CAAC,IAAM","file":"main.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t2: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([31,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = React;","module.exports = antd;","import { createStore, createPesistStore } from './utils'\n\nexport { createStore, createPesistStore } from './utils'\nimport { useState } from 'react'\nimport { Auth, Description } from '../api'\nimport { message } from 'antd'\n\nexport const useDescriptions = createStore([] as Description[])\n\nexport interface AppStatus {\n    logging: boolean\n}\n\nexport const useApp = createPesistStore({ logging: false }, 'app')\n\nexport const useAuth = createPesistStore({} as Auth, 'auth')\n\nexport type Status = 'SUCCESS' | 'REQUESTING' | 'FAILED' | 'IDLE'\n\nexport interface APIState<R> {\n    requesting: boolean\n    resp?: R\n    error?: Error\n    status: Status\n}\n\nconst defaultState = {\n    requesting: false,\n    status: 'IDLE',\n}\n\nexport const useAPI = <T, R>(req: (arg: T) => Promise<R>): [APIState<R>, (arg: T) => Promise<R>] => {\n    const [state, setState] = useState(defaultState as APIState<R>)\n\n    const wrapped = async (arg: T) => {\n        setState({ ...defaultState, requesting: true, status: 'REQUESTING' })\n        try {\n            const resp = await req(arg)\n            setState({ ...defaultState, requesting: false, resp, status: 'SUCCESS' })\n            return resp\n        } catch (error) {\n            console.log('wori?')\n            message.error(`Action Failed: ${error.toString()}`)\n            setState({ ...defaultState, requesting: false, error, status: 'FAILED' })\n            throw error\n        }\n    }\n\n    return [state, wrapped]\n}\n","import { message } from 'antd'\r\n\r\nconst APIBase = 'http://localhost:3000'\r\n\r\nexport interface Description {\r\n    name: string\r\n    description: string\r\n    duration: [number, number]\r\n    id: string\r\n}\r\n\r\nexport interface Auth {\r\n    id: string\r\n    name: string\r\n    email: string\r\n    admin: boolean\r\n}\r\n\r\nconst req = async (endpoint: string, { body, method }: { body?: string; method: string }) => {\r\n    console.log(endpoint, { body, method })\r\n    const resp = await fetch(APIBase + endpoint, { mode: 'cors', body, method })\r\n    if (!resp.ok) {\r\n        throw new Error('Resp not ok')\r\n    }\r\n    return resp\r\n}\r\n\r\nexport const updateDescription = async ({ id, ...rest }: { id: string }) => {\r\n    console.log(id)\r\n    const resp = await req('/update-description', { body: JSON.stringify({ id, ...rest }), method: 'put' })\r\n    return\r\n}\r\n\r\nexport const listDescriptions = async ({}): Promise<Description[]> => {\r\n    const resp = await req('/list-descriptions', { method: 'get' })\r\n    const json = (await resp.json()) as Description[]\r\n    return json\r\n}\r\n\r\nexport const createDescriptions = async ({ descriptions }: { descriptions: Description[] }): Promise<void> => {\r\n    const resp = await req('/massive-create', { body: JSON.stringify(descriptions), method: 'post' })\r\n    return\r\n}\r\n\r\nexport const logout = async ({ id }: { id: string }): Promise<void> => {\r\n    const resp = await req('/logout', { body: JSON.stringify({ id }), method: 'put' })\r\n    return\r\n}\r\n\r\nexport const login = async ({ email }: { email: string }): Promise<Auth> => {\r\n    const resp = await req('/login', { body: JSON.stringify({ email }), method: 'put' })\r\n    const json = (await resp.json()) as Auth\r\n    return json\r\n}\r\n\r\n// export const defaultCatcher = promise => promise.catch(error => message.error(`Action Error: ${error.toString()}`))\r\n","export interface RouteConfig {\r\n    path: string\r\n    name: string\r\n}\r\n\r\nexport const RouteConfigs: { [key: string]: RouteConfig } = {\r\n    table: {\r\n        path: '/table',\r\n        name: 'Table Page',\r\n    },\r\n    chart: {\r\n        path: '/chart',\r\n        name: 'Chart Page',\r\n    },\r\n}\r\n\r\nexport const routes = Object.values(RouteConfigs)\r\n","module.exports = moment;","import * as React from 'react'\r\nimport { useAuth } from './hooks'\r\n\r\ntype Hoc = (Cmp: any) => (props: any) => JSX.Element\r\n\r\nexport const private_: Hoc = Cmp => props => {\r\n    const [auth] = useAuth()\r\n    if (auth && auth.id) return <Cmp {...props}></Cmp>\r\n    return null\r\n}\r\n\r\nexport const protected_: Hoc = Cmp => props => {\r\n    const [auth] = useAuth()\r\n    if (auth && auth.admin) return <Cmp {...props}></Cmp>\r\n    return null\r\n}\r\n","import { useEffect, useState } from 'react'\n\nexport const createStore = <T>(initState: T): (() => [T, (state: T) => void]) => {\n    const listeners: Set<(state: T) => void> = new Set()\n    let curr = initState\n\n    return () => {\n        const [state, local] = useState(curr)\n        useEffect(() => {\n            listeners.add(local)\n            return () => {\n                listeners.delete(local)\n            }\n        }, [])\n\n        const setState = (state: T) => {\n            curr = state\n            for (const setState of listeners) setState(state)\n        }\n\n        return [state, setState]\n    }\n}\n\nexport const createPesistStore = <T>(defaultState: T, key: string): (() => [T, (state: T) => void]) => {\n    const initState = (localStorage.getItem(key) && JSON.parse(localStorage.getItem(key))) || defaultState\n    const hook = createStore(initState)\n    return () => {\n        const [state, setState] = hook()\n        const persistSetState = (state: T) => {\n            localStorage.setItem(key, JSON.stringify(state))\n            setState(state)\n        }\n        return [state, persistSetState]\n    }\n}\n","export const JOB_DESCRIPTIONS = ['Front-end Dev', 'Core Server', 'Product Manager', 'Project Manager', 'QA']\r\n","import { Button, Col, DatePicker, Form, Input, message, Row, Select } from 'antd'\r\nimport * as moment from 'moment'\r\nimport { Moment } from 'moment'\r\nimport * as React from 'react'\r\nimport { JOB_DESCRIPTIONS } from '../../constants'\r\nimport { createStore } from '../../hooks'\r\nimport * as styles from './Filter.modules.scss'\r\n\r\nconst { RangePicker } = DatePicker\r\nconst { Option } = Select\r\n\r\n// I don't know why antd does not export this interface\r\n// interface FieldData {\r\n//     name: string[]\r\n//     value: any\r\n//     touched: boolean\r\n//     validating: boolean\r\n//     errors: string[]\r\n// }\r\n\r\n// export type FilterConditions =\r\n//     | { name: 'name'; value: string }\r\n//     | { name: 'date'; value: [Moment, Moment] }\r\n//     | { name: 'description'; value: string }\r\n\r\nexport type FilterConditions = {\r\n    name?: string\r\n    description?: string\r\n    duration?: [Moment, Moment]\r\n}\r\n\r\nexport const defaults = {\r\n    name: undefined,\r\n    description: undefined,\r\n    duration: [undefined, undefined],\r\n} as FilterConditions\r\n\r\nexport const useConditions = createStore(defaults)\r\n\r\nexport const Filter = () => {\r\n    const [form] = Form.useForm()\r\n    const [conditions, setConditions] = useConditions()\r\n    const submit = () =>\r\n        form\r\n            .validateFields()\r\n            .then((values: FilterConditions) => {\r\n                if (values.duration && values.duration.filter(d => d != undefined).length == 2) {\r\n                    const duration = moment.duration(values.duration[1].diff(values.duration[0]))\r\n                    if (duration.asMonths() > 24) {\r\n                        message.error('Entry Date cannot be more than 2 years.')\r\n                        return\r\n                    }\r\n                }\r\n                setConditions(values)\r\n            })\r\n            .catch(console.error)\r\n\r\n    const reset = () => {\r\n        form.resetFields()\r\n        setConditions(defaults)\r\n    }\r\n\r\n    const formItemLayout = {\r\n        labelCol: { span: 8 },\r\n        wrapperCol: { span: 16 },\r\n    }\r\n\r\n    return (\r\n        <Form {...formItemLayout} form={form}>\r\n            <Row gutter={16}>\r\n                <Col span={12}>\r\n                    <Form.Item name=\"name\" label=\"Name\" rules={[{ required: true }]}>\r\n                        <Input placeholder=\"String Only\" />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={12}>\r\n                    <Form.Item name=\"description\" label=\"Job Description\">\r\n                        <Select placeholder=\"Select\" allowClear>\r\n                            {JOB_DESCRIPTIONS.map(desc => (\r\n                                <Option key={desc} value={desc}>\r\n                                    {desc}\r\n                                </Option>\r\n                            ))}\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n            </Row>\r\n            <Row gutter={16}>\r\n                <Col span={12}>\r\n                    <Form.Item name=\"duration\" label=\"Entry Date\">\r\n                        <RangePicker style={{ width: '100%' }} />\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={12}>\r\n                    <div className={styles.actions}>\r\n                        <Button onClick={submit}>Submit</Button>\r\n                        <Button style={{ marginLeft: 8 }} onClick={reset}>\r\n                            Reset\r\n                        </Button>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    )\r\n}\r\n","import * as React from 'react'\r\nimport * as ReactDOM from 'react-dom'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { default as App } from './Skeleton/App'\r\n\r\nReactDOM.render(\r\n    <Router>\r\n        <App />\r\n    </Router>,\r\n    document.querySelector('#app')\r\n)\r\n","module.exports = ReactDOM;","import { Layout, Menu } from 'antd'\r\nimport * as React from 'react'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport { useApp } from '../hooks'\r\nimport { LoginPage } from '../Pages/Login'\r\nimport { routes } from '../routes'\r\nimport { default as Header } from './Header'\r\nimport { default as Content } from './Content'\r\nimport './App.scss'\r\n\r\nconst { SubMenu } = Menu\r\nconst { Sider } = Layout\r\n\r\nconst SiderWidth = 256\r\n\r\nexport const App = () => {\r\n    const location = useLocation()\r\n    const [app] = useApp()\r\n    const history = useHistory()\r\n\r\n    return app.logging ? (\r\n        <LoginPage></LoginPage>\r\n    ) : (\r\n        <Layout>\r\n            <Header></Header>\r\n            <Layout style={{ background: 'white' }}>\r\n                <Sider width={SiderWidth} style={{ height: '100%' }}>\r\n                    <Menu\r\n                        style={{ width: SiderWidth, height: '100%' }}\r\n                        // defaultOpenKeys={['1']}\r\n                        // defaultSelectedKeys={[location.pathname]}\r\n                        selectedKeys={[location.pathname]}\r\n                        mode=\"inline\"\r\n                    >\r\n                        <SubMenu key=\"1\" title=\"System Management\">\r\n                            {routes.map(route => (\r\n                                <Menu.Item onClick={() => history.push(route.path)} key={route.path}>\r\n                                    {route.name}\r\n                                </Menu.Item>\r\n                            ))}\r\n                        </SubMenu>\r\n                    </Menu>\r\n                </Sider>\r\n                <Content />\r\n            </Layout>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import { Select, Button, Form, Input, message } from 'antd'\r\nimport { useForm } from 'antd/lib/form/util'\r\nimport * as React from 'react'\r\nimport * as api from '../api'\r\nimport { useApp, useAuth, useAPI } from '../hooks'\r\nimport * as styles from './Login.modules.scss'\r\n\r\nconst { Item } = Form\r\nconst { Option } = Select\r\n\r\nexport const LoginPage = () => {\r\n    const [form] = useForm()\r\n    const [app, setApp] = useApp()\r\n    const [auth, setAuth] = useAuth()\r\n    const [reqState, request] = useAPI(api.login)\r\n\r\n    const login = async () => {\r\n        try {\r\n            const { email } = await form.validateFields()\r\n\r\n            const resp = await request({ email })\r\n            console.log(resp)\r\n            setAuth({ ...auth, ...resp })\r\n            setApp({ ...app, logging: false })\r\n        } catch (error) {}\r\n    }\r\n    const cancel = () => setApp({ ...app, logging: false })\r\n\r\n    const formItemLayout = {\r\n        labelCol: { span: 4 },\r\n        wrapperCol: { span: 16 },\r\n    }\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <Form form={form} {...formItemLayout} layout=\"horizontal\" size=\"large\">\r\n                <Item name=\"email\" label=\"Email\" rules={[{ required: true, message: 'NameName is required!' }]}>\r\n                    <Input placeholder=\"String Only\" />\r\n                </Item>\r\n            </Form>\r\n            <div className={styles.actions}>\r\n                <Button disabled={reqState.status == 'REQUESTING'} onClick={login}>\r\n                    Login\r\n                </Button>\r\n                <Button onClick={cancel}>Cancel</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_1hsW0NdE6YMu98xiDVYmf1\",\"actions\":\"_12S7jDOv_hGtC3rRfCFieH\"};","import { LogoutOutlined, UnorderedListOutlined } from '@ant-design/icons'\r\nimport { Layout, Popover } from 'antd'\r\nimport * as React from 'react'\r\nimport * as api from '../api'\r\nimport { useAPI, useApp, useAuth } from '../hooks'\r\nimport * as styles from './Header.modules.scss'\r\n\r\nconsole.log(styles)\r\n\r\nexport const HeaderHeight = 64\r\n\r\nconst Header = () => {\r\n    const [auth, setAuth] = useAuth()\r\n    const [app, setApp] = useApp()\r\n    const [{ status }, req] = useAPI(api.logout)\r\n    const login = async () => {\r\n        try {\r\n            await req({ id: auth.id })\r\n            setAuth(null)\r\n        } catch (error) {}\r\n    }\r\n\r\n    return (\r\n        <Layout.Header style={{ height: HeaderHeight }} className={styles.header}>\r\n            <p>\r\n                <UnorderedListOutlined style={{ marginRight: '1em' }} />\r\n                System Management\r\n            </p>\r\n            {auth && auth.id ? (\r\n                <Popover\r\n                    placement=\"bottomRight\"\r\n                    title={\r\n                        <div className={styles.popover}>\r\n                            <img src=\"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg\"></img>\r\n                            <div>\r\n                                <p>{auth.name}</p>\r\n                                <p>{auth.email}</p>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    content={\r\n                        status == 'REQUESTING' ? (\r\n                            <p>...</p>\r\n                        ) : (\r\n                            <p onClick={login}>\r\n                                <LogoutOutlined style={{ marginRight: '1em' }} />\r\n                                Logout\r\n                            </p>\r\n                        )\r\n                    }\r\n                    trigger=\"click\"\r\n                >\r\n                    <img style={{ height: 42 }} src=\"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg\"></img>\r\n                </Popover>\r\n            ) : (\r\n                <p onClick={() => setApp({ ...app, logging: true })}>Login</p>\r\n            )}\r\n        </Layout.Header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"hxvNd2BkJ1U82aZCTgnnT\",\"popover\":\"bmyYbAjqG8r8LpfkCXVkQ\"};","import { Layout } from 'antd'\r\nimport * as React from 'react'\r\nimport { Redirect, Route, Switch } from 'react-router-dom'\r\nimport { ChartPage } from '../Pages/Chart'\r\nimport { TablePage } from '../Pages/Table'\r\nimport { RouteConfigs } from '../routes'\r\n\r\nconst Content = () => {\r\n    return (\r\n        <Layout.Content style={{ padding: 16, backgroundColor: 'white' }}>\r\n            <Switch>\r\n                <Route path={RouteConfigs.table.path}>\r\n                    <TablePage />\r\n                </Route>\r\n                <Route path={RouteConfigs.chart.path}>\r\n                    <ChartPage />\r\n                </Route>\r\n                {/* <Redirect to={RouteConfigs.table.path}></Redirect> */}\r\n            </Switch>\r\n        </Layout.Content>\r\n    )\r\n}\r\n\r\nexport default Content\r\n","import { PageHeader } from 'antd'\nimport { Legend, Axis, Chart, Geom, Tooltip } from 'BizCharts'\nimport * as moment from 'moment'\nimport * as React from 'react'\nimport * as api from '../../api'\nimport { private_ } from '../../hocs'\nimport { useAPI, useDescriptions } from '../../hooks'\nimport { RouteConfigs } from '../../routes'\n\nexport const ChartPage = private_(() => {\n    const [descriptions, setDescriptions] = useDescriptions()\n    const [{ status, resp }, req] = useAPI(api.listDescriptions)\n\n    React.useEffect(() => {\n        req({})\n    }, [])\n    React.useEffect(() => {\n        setDescriptions(resp || [])\n    }, [resp])\n\n    const months = []\n    for (let i = 1; i <= 9; i += 1) months.push({ count: 0, name: `0${i}` })\n    for (let i = 10; i <= 12; i += 1) months.push({ count: 0, name: i.toString() })\n    for (const description of descriptions) {\n        const m = moment(description.duration[0]).month() - 1\n        months[m].count += 1\n    }\n\n    return (\n        <div style={{ width: '100%' }}>\n            <PageHeader\n                title=\"Table Page\"\n                breadcrumb={{\n                    routes: [\n                        { breadcrumbName: 'System Management', path: '/' },\n                        {\n                            breadcrumbName: 'Chart Page',\n                            path: RouteConfigs.chart.path,\n                        },\n                    ],\n                }}\n            />\n            <Chart height={400} data={months} forceFit>\n                <Axis name=\"name\" />\n                <Axis name=\"count\" />\n                <Legend position=\"left-top\" />\n                <Tooltip enterable />\n                <Geom type=\"interval\" position=\"name*count\" />\n            </Chart>\n        </div>\n    )\n})\n","import { PageHeader } from 'antd'\r\nimport * as React from 'react'\r\nimport { RouteConfigs } from '../../routes'\r\nimport { Create } from './Create'\r\nimport { EditableTable } from './EditableTable'\r\nimport { Filter } from './Filter'\r\nimport { private_ } from '../../hocs'\r\n\r\nexport const TablePage = private_(() => {\r\n    return (\r\n        <div>\r\n            <PageHeader\r\n                title=\"Table Page\"\r\n                breadcrumb={{\r\n                    routes: [\r\n                        { breadcrumbName: 'System Management', path: '/' },\r\n                        {\r\n                            breadcrumbName: 'Table Page',\r\n                            path: RouteConfigs.table.path,\r\n                        },\r\n                    ],\r\n                }}\r\n            />\r\n            <Filter />\r\n            <Create />\r\n            <EditableTable />\r\n        </div>\r\n    )\r\n})\r\n","import { InboxOutlined } from '@ant-design/icons'\r\nimport { Button, Form, Menu, message, Modal, Upload } from 'antd'\r\nimport * as React from 'react'\r\nimport { useState } from 'react'\r\nimport * as uuid from 'uuid'\r\nimport * as api from '../../api'\r\nimport * as styles from './Create.modules.scss'\r\nimport { Description } from '../../api'\r\nimport { useAuth, useDescriptions, useAPI } from '../../hooks'\r\nimport { SingleCreate } from './SingleCreate'\r\nimport { protected_ } from '../../hocs'\r\n\r\nconst { Dragger } = Upload\r\n\r\nconst SiderWidth = 128\r\nconst defaultStatus = { visible: false, massive: false }\r\n\r\nexport const Create = protected_(() => {\r\n    const [singleForm] = Form.useForm()\r\n    const [files, setFiles] = useState([])\r\n    const [status, setStatus] = useState(defaultStatus)\r\n    const { visible, massive } = status\r\n    const [state, request] = useAPI(api.createDescriptions)\r\n\r\n    const [descriptions, setDescriptions] = useDescriptions()\r\n\r\n    const onCancel = () => {\r\n        setFiles([])\r\n        singleForm.resetFields()\r\n        setStatus(defaultStatus)\r\n    }\r\n    const onOk = async () => {\r\n        try {\r\n            if (massive) {\r\n                console.log(files)\r\n                const descs = await files.reduce(async (accu, file) => {\r\n                    const descs = await accu\r\n                    const reader = new FileReader()\r\n                    const json = await new Promise((resolve, reject) => {\r\n                        reader.onload = event => resolve(event.target.result)\r\n                        reader.onerror = reject\r\n                        reader.readAsText(file)\r\n                    })\r\n                    console.log(json, JSON.parse(json as string))\r\n                    return [...descs, ...JSON.parse(json as string)]\r\n                }, Promise.resolve([]))\r\n                const newly = [...descs, ...descriptions]\r\n                await request({ descriptions: newly })\r\n                setDescriptions([...descs, ...descriptions])\r\n                onCancel()\r\n            } else {\r\n                const values = await singleForm.validateFields()\r\n                const description = { ...values, id: uuid.v4() } as Description\r\n                await request({ descriptions: [description] })\r\n                setDescriptions([description, ...descriptions])\r\n                onCancel()\r\n            }\r\n        } catch (error) {\r\n            message.error(error.toString())\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={styles.button}>\r\n                <Button type=\"primary\" onClick={() => setStatus({ ...status, visible: true })}>\r\n                    Create\r\n                </Button>\r\n            </div>\r\n            <Modal\r\n                width={720}\r\n                visible={visible}\r\n                title=\"Create Person\"\r\n                footer={[\r\n                    <Button key=\"Cancel\" onClick={onCancel}>\r\n                        Cancel\r\n                    </Button>,\r\n                    <Button key=\"Submit\" type=\"primary\" loading={state.status == 'REQUESTING'} onClick={onOk}>\r\n                        Submit\r\n                    </Button>,\r\n                ]}\r\n            >\r\n                <div className={styles.modal}>\r\n                    <Menu style={{ width: SiderWidth }} defaultSelectedKeys={['1']} mode=\"inline\">\r\n                        <Menu.Item key=\"1\" onClick={() => setStatus({ ...status, massive: false })}>\r\n                            Single Create\r\n                        </Menu.Item>\r\n                        <Menu.Item key=\"2\" onClick={() => setStatus({ ...status, massive: true })}>\r\n                            Mass Create\r\n                        </Menu.Item>\r\n                    </Menu>\r\n                    <div className={styles.contents}>\r\n                        {massive ? (\r\n                            <div>\r\n                                {/* why dragger is wrapped by a span... */}\r\n                                <Dragger\r\n                                    fileList={files}\r\n                                    multiple={true}\r\n                                    beforeUpload={file => {\r\n                                        // need to handle duplicate files\r\n                                        setFiles([...files, file])\r\n                                        return false\r\n                                    }}\r\n                                    onRemove={file => {\r\n                                        const idx = files.indexOf(file)\r\n                                        setFiles([...files.slice(0, idx), ...files.slice(idx + 1)])\r\n                                    }}\r\n                                >\r\n                                    <p>\r\n                                        <InboxOutlined />\r\n                                    </p>\r\n                                    <p>Click or drag file to this area to upload</p>\r\n                                </Dragger>\r\n                            </div>\r\n                        ) : (\r\n                            <SingleCreate form={singleForm} />\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    )\r\n})\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"_3-EbZPAjmP9DINQh6_kpUc\",\"modal\":\"_2zPPBl7l3JX0fEMhxTAj7s\",\"contents\":\"_34YN_-osjBti6rsa8ONiet\"};","import { DatePicker, Form, Input, Select } from 'antd'\r\nimport { FormInstance } from 'antd/lib/form/util'\r\nimport * as React from 'react'\r\nimport { JOB_DESCRIPTIONS } from '../../constants'\r\n\r\nconst { Item } = Form\r\n\r\nconst { RangePicker } = DatePicker\r\n\r\nexport interface Props {\r\n    form: FormInstance\r\n}\r\n\r\nexport const SingleCreate = ({ form }: Props) => {\r\n    const formItemLayout = {\r\n        labelCol: { span: 8 },\r\n        wrapperCol: { span: 16 },\r\n    }\r\n\r\n    return (\r\n        <Form form={form} style={{ width: '100%' }} {...formItemLayout} layout=\"horizontal\" size=\"large\">\r\n            <Item name=\"name\" label=\"Name\" rules={[{ required: true, message: 'NameName is required!' }]}>\r\n                <Input placeholder=\"String Only\" />\r\n            </Item>\r\n            <Item name=\"description\" label=\"Job Description\" rules={[{ required: true, message: 'Descriptoin is required!' }]}>\r\n                <Select placeholder=\"Select\">\r\n                    {JOB_DESCRIPTIONS.map((description: string) => (\r\n                        <Select.Option value={description} key={description}>\r\n                            {description}\r\n                        </Select.Option>\r\n                    ))}\r\n                </Select>\r\n            </Item>\r\n            <Item name=\"duration\" label=\"Entry Date\" rules={[{ required: true, message: 'Duration is required!' }]}>\r\n                <RangePicker style={{ width: '100%' }} />\r\n            </Item>\r\n        </Form>\r\n    )\r\n}\r\n","import { Form, Input, Popconfirm, Table } from 'antd'\r\nimport * as moment from 'moment'\r\nimport * as React from 'react'\r\nimport { useContext, useEffect, useRef, useState } from 'react'\r\nimport * as api from '../../api'\r\nimport { Description } from '../../api'\r\nimport { useAPI, useAuth, useDescriptions } from '../../hooks'\r\nimport { useConditions } from './Filter'\r\nimport { equals } from 'ramda'\r\n\r\nconst EditableContext = React.createContext(null)\r\n\r\nconst EditableRow = ({ index, ...props }: any) => {\r\n    const [form] = Form.useForm()\r\n    return (\r\n        <Form form={form} component={false}>\r\n            <EditableContext.Provider value={form}>\r\n                <tr {...props} />\r\n            </EditableContext.Provider>\r\n        </Form>\r\n    )\r\n}\r\n\r\nconst EditableCell = ({ title, editable, children, dataIndex, record, handleSave, ...restProps }: any) => {\r\n    const [auth] = useAuth()\r\n    const [editing, setEditing] = useState(false)\r\n    const inputRef = useRef(null)\r\n    const form = useContext(EditableContext)\r\n    useEffect(() => {\r\n        if (editing) inputRef.current.focus()\r\n    }, [editing])\r\n\r\n    const toggleEdit = () => {\r\n        if (!auth.admin) return\r\n        setEditing(!editing)\r\n        form.setFieldsValue({\r\n            [dataIndex]: record[dataIndex],\r\n        })\r\n    }\r\n\r\n    const save = async () => {\r\n        try {\r\n            const values = await form.validateFields()\r\n            toggleEdit()\r\n            handleSave({ ...record, ...values })\r\n        } catch (error) {\r\n            console.log('Save failed:', error)\r\n        }\r\n    }\r\n\r\n    let childNode = children\r\n\r\n    if (editable) {\r\n        childNode = editing ? (\r\n            <Form.Item\r\n                name={dataIndex}\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: `${title} is required.`,\r\n                    },\r\n                ]}\r\n            >\r\n                <Input ref={inputRef} onPressEnter={save} onBlur={save} />\r\n            </Form.Item>\r\n        ) : (\r\n            <div onClick={toggleEdit}>{children}</div>\r\n        )\r\n    }\r\n\r\n    return <td {...restProps}>{childNode}</td>\r\n}\r\n\r\nexport const EditableTable = () => {\r\n    const [auth] = useAuth()\r\n    const [descriptions, setDescriptions] = useDescriptions()\r\n    const [updateReqState, updateReq] = useAPI(api.updateDescription)\r\n    const [{ status, resp }, req] = useAPI(api.listDescriptions)\r\n    React.useEffect(() => {\r\n        req({})\r\n    }, [])\r\n    React.useEffect(() => {\r\n        setDescriptions(resp || [])\r\n    }, [resp])\r\n    const [conditions] = useConditions()\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            width: '30%',\r\n            editable: true,\r\n        },\r\n        {\r\n            title: 'Job Description',\r\n            dataIndex: 'description',\r\n        },\r\n        {\r\n            title: 'Duration',\r\n            dataIndex: 'duration',\r\n            render: (text: string, record: Description) => {\r\n                const [start, end] = record.duration.map(t => moment(t))\r\n                const duration = moment.duration(end.diff(start))\r\n                return duration.months() + ' Month(s)'\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: 'action',\r\n            render: (text: string, record: Description) => (\r\n                <Popconfirm\r\n                    title=\"Are you sure to delete?\"\r\n                    okText=\"Delete\"\r\n                    onConfirm={() => setDescriptions(descriptions.filter(desc => desc.id != record.id))}\r\n                >\r\n                    {auth.admin && <a>Delete</a>}\r\n                </Popconfirm>\r\n            ),\r\n        },\r\n    ]\r\n\r\n    const handleSave = async (record: Description) => {\r\n        const modified = !equals(\r\n            record,\r\n            descriptions.find(({ id }) => id == record.id)\r\n        )\r\n        if (modified) {\r\n            try {\r\n                console.log(record)\r\n                await updateReq(record)\r\n                setDescriptions(descriptions.map(desc => (desc.id == record.id ? record : desc)))\r\n            } catch (error) {}\r\n        }\r\n    }\r\n\r\n    const components = {\r\n        body: {\r\n            row: EditableRow,\r\n            cell: EditableCell,\r\n        },\r\n    }\r\n    const columnsSource = columns.map(col => {\r\n        if (!col.editable) {\r\n            return col\r\n        }\r\n\r\n        return {\r\n            ...col,\r\n            onCell: (record: Description) => ({\r\n                record,\r\n                editable: col.editable,\r\n                dataIndex: col.dataIndex,\r\n                title: col.title,\r\n                handleSave: handleSave,\r\n            }),\r\n        }\r\n    })\r\n    return (\r\n        <div>\r\n            <Table\r\n                rowKey=\"id\"\r\n                loading={status == 'REQUESTING'}\r\n                components={components}\r\n                dataSource={descriptions.filter(desc => {\r\n                    if (conditions.name && !desc.name.startsWith(conditions.name)) {\r\n                        return false\r\n                    }\r\n                    if (conditions.description && desc.description != conditions.description) {\r\n                        return false\r\n                    }\r\n                    if (conditions.duration && conditions.duration.filter(d => d != undefined).length == 2) {\r\n                        const dd = moment.duration(moment(desc.duration[1]).diff(moment(desc.duration[0])))\r\n                        const df = moment.duration(conditions.duration[1].diff(conditions.duration[0]))\r\n                        if (dd.asMilliseconds() < df.asMilliseconds()) return false\r\n                    }\r\n                    return true\r\n                })}\r\n                columns={columnsSource}\r\n                pagination={{\r\n                    defaultPageSize: 5,\r\n                    pageSize: 5,\r\n                    showQuickJumper: true,\r\n                    showSizeChanger: true,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actions\":\"_3aQfN4gxkeiAdGLGRfKS6q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"_3rkitb77DhZqzVSFVyfT07\"};"],"sourceRoot":""}